<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Arkansas Movie Database</title>
    <meta name="description" content="Your Description">
    <meta name="keywords" content="Your, Key, Words">
    <meta name="author" content="Fernando J Amador">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/style/arMovieDatabase.css">
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Ubuntu">
	<link rel="shortcut icon" href="assets/images/arflag3favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    	<!-- Include JQuery to simplify AJAX call -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="assets/scripts/index.js"></script>
</head>
<body>
	<!-- Execute a JavaScript immediately after a page has been loaded -->
	<!-- passing the value of the variable onloadMovieId  from the localStorage object-->
	<body onload="MovieDtlCrdSearch()">
	<div id="container">	
		<!-- Breadcrumb Pagination -->
		<ul class="breadcrumb">
		  <li><a href="#" onclick="openRedirect('index.html')">Home</a></li>
		  <li><a href="#" onclick="openRedirect('advMovieSearch.html')">Advanced Search Movies</a></li>
		  <li><a href="#">Movies Details & Credits</a></li>
		</ul>
		
		<!-- Begin Tab Buttons Section -->
        <!-- Responsive TopNav -->
		<!-- Load an icon library to show a hamburger menu (bars) on small screens -->
		<!-- SubNavBar Dropdown Menu -->
		<!-- Create A Responsive Topnav with Dropdown -->
		<div class="topnav" id="myTopnav">
			<a href="#"><img class="websiteLogo4" src="assets/images/websiteLogo4.png" alt="Arkansas Movie Database"></a>
			<a href="#home" onclick="openRedirect('index.html')"><i class="fa fa-home"></i> Home</a>
			<div class="dropdown">
				<button class="dropbtn">Browse by Name<i class="fa fa-caret-down"></i></button>
				<div class="dropdown-content">
				  <a href="#" onclick="openRedirect('browse_movies.html')">Browse Movies</a>
				  <a href="#" onclick="openRedirect('browse_celebrities_men.html')">Browse Celebrities Men</a>
				  <a href="#" onclick="openRedirect('browse_celebrities_women.html')">Browse Celebrities Women</a>
				  
				</div>
			</div>
			<div class="dropdown">
				<button class="dropbtn">Search<i class="fa fa-caret-down"></i></button>
				<div class="dropdown-content">
				  <a href="#" onclick="openRedirect('advMovieSearch.html')">Advanced Search Movies</a>
				  <a href="#" onclick="openRedirect('advPersonSearch.html')">Advanced Search Celebrities</a>
				</div>
			 </div>
		  <a href="#about" id="AboutBtn" onclick="openRedirect('about.html')">About</a>
		  <a href="#contact" id="CntcMdlBtn">Contact</a>
		  <a href="https://www.themoviedb.org/" class="rightTMDBlogo">powered by <img src="assets/images/blue_short-TMDB_logo.svg" alt="The Movie Database" style="width:90px"></a>
		  <a href="javascript:void(0);" class="icon" onclick="myFunction()">&#9776;</a>
		</div>
		<br>
	<h2 id="pagetitle">Movie Details & Credits</h2>
    
	<!--
	<p>Enter Movie ID: <input type="text" id="movieid"></p>
    
    -- Run the MovieSearch function when the button is clicked - See https://www.w3schools.com/js/js_events.asp--
    <p><button id="myBtn" onclick="MovieDtlCrdSearch()">Search for Movie Details & Credits</button></p>
	-->
    
    <div id="url1"></div><br>

<div class="results_content">
	<div class="movie_result">
		<img  id="poster_path">	
		<div class="movie_details">	
			<div id="homepage"></div>
			<div id="title"></div>
			<div id="overview"></div>
			<div id="movieid"></div>
			<div id="homepage"></div>
			<div id="title"></div>
			<div id="imdb_id"></div>
			<div id="original_language"></div>
			<div id="original_title"></div>
			<div id="popularity"></div>
			<div id="release_date"></div>
			<div id="budget"></div>
			<div id="revenue"></div>
			<div id="runtime"></div>
			<div id="genres0"></div>
			<div id="genres1"></div>
			<div id="genres2"></div>
			<div id="genres3"></div>
			<div id="genres4"></div>
			<div id="genres5"></div>
			<div id="genres6"></div>
			<div id="status"></div>
			<div id="tagline"></div>
			<div id="vote_average"></div>
			<div id="vote_count"></div>
			<div id="video"></div>
		</div>
	</div>
	
	<div class="credits_results">
		<img id="profilepath0">	
		<div class="celebrity_details">		
			<div id="name0"></div>		 
			<div id="character0"></div>
			<div id="cast_id0"></div>
			<div id="order0"></div>
			<div id="credit_id0"></div>
			<div id="gender0"></div>
		</div>
	</div>
	<div class="credits_results">
		<img id="profilepath1">
		<div class="celebrity_details">		
			<div id="name1"></div>
			<div id="character1"></div>
			<div id="cast_id1"></div>
			<div id="order1"></div>
			<div id="credit_id1"></div>
			<div id="gender1"></div>
		</div>
	</div>
	<div class="credits_results">
		<img id="profilepath2">
		<div class="celebrity_details">
			<div id="name2"></div>
			<div id="character2"></div>
			<div id="cast_id2"></div>
			<div id="order2"></div>
			<div id="credit_id2"></div>
			<div id="gender2"></div>
		</div>
	</div>
	<div class="credits_results">
		<img id="profilepath3">
		<div class="celebrity_details">
			<div id="name3"></div>
			<div id="character3"></div>
			<div id="cast_id3"></div>
			<div id="order3"></div>
			<div id="credit_id3"></div>
			<div id="gender3"></div>
		</div>
	</div>
	<div class="credits_results">
		<img id="profilepath4">
		<div class="celebrity_details">
			<div id="name4"></div>
			<div id="character4"></div>
			<div id="cast_id4"></div>
			<div id="order4"></div>
			<div id="credit_id4"></div>
			<div id="gender4"></div>
		</div>
	</div>
</div>

        <div id="CntcModal" class="cntc-modal">
            
			<!-- Modal content -->
            <div class="cntc-modal-content">
                <span class="modal-close">&times;</span>
                <h2>Contact</h2>
                <p>
                    XXXXX
                </p>
            </div>
        </div> 
 
</div>
	<script>  
 
	 // event listener to grab click on movie poster and call fuction MovieIDSearch
	document.getElementById("profilepath0").addEventListener("click", function() {PersonIDSearch(0)});
	document.getElementById("profilepath1").addEventListener("click", function() {PersonIDSearch(1)});
	document.getElementById("profilepath2").addEventListener("click", function() {PersonIDSearch(2)});
	document.getElementById("profilepath3").addEventListener("click", function() {PersonIDSearch(3)});
	document.getElementById("profilepath4").addEventListener("click", function() {PersonIDSearch(4)});

	function PersonIDSearch(profilepathNbr) {
		var PrsnIdIndex = profilepathNbr
		/* Build up the parameters for the URL */
		//Grab the value from local storage for the movieid variable 
		var movieid = localStorage.getItem("movieIdPass");
		/* Build up the parameters for the URL */
		var txt
		var api_key = "e5e088b9fdaef1249c47887b5e5eef39";
		var language = "en-US";
		var page = "1";
		var include_adult = "false";
		var query = movieid;  /* encode the movename since it might have blanks */  
		var myURL = "https://api.themoviedb.org/3/movie/" + query + "?api_key=" + api_key + "&language=" + language + "&append_to_response=credits";
		/* AJAX Method - Use GET since the parameters are in the URL */
		var myMethod = "GET";
		/* Make sure the document is ready */
		$(document).ready(function() { 
		/* Perform AJAX call - Pass to it the Method (GET) and the URL*/
		$.ajax({
		method: myMethod,
		url: myURL})
			/* AJAX complete - result is in msg */
			.done(function(msg) {
			//Move the person id from movie credits to variable onloadPersonId
		var onloadPersonId = msg.credits.cast[PrsnIdIndex].id;	
			//localStorage object stores data with no expiration date. 
			//The data will not be deleted when the browser is closed, and will be available the next day, week, or year
		localStorage.setItem("personIdPass", onloadPersonId);
			//The open() method opens a new browser window, or a new tab
		window.open("advPersonSearchDetailsCredits.html", "_self");});
		});
	}


 
	</script>

</body>
</html>


		 

































